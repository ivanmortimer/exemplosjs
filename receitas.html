<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Catálogo de Receitas</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body>
    <div class="container-fluid">
        <h1>Catálogo de Receitas</h1>
        <div class="d-flex flex-wrap justify-content-center bg-warning p-1" id="pnlCatalogo"></div>
    </div>
    <script>
        const vetor_JASON = [
            {
                titulo: "Arroz de Couve-Flor",
                imagem: "arroz_de_couve_flor.png",
                preparo: "Deixe a couve-flor picada. " +
                "Adicione os ingredientes e refogue bem. " +
                "Adicione sal, tampe a panela e deixe cozinhar.",
                ingredientes: ["Arroz", "Couve-flor", "Cebola média", "Azeite"]
            },
            {
                titulo: "Bolo de Café",
                imagem: "bolo_de_cafe_com_cafe_ao_leite.png",
                preparo: "Bata o açucar, as gemas e o café. " +
                "Adicione farinha e chocolate e mexa bem. " +
                "Bata as claras e junte à mistura.",
                ingredientes: ["Farinha de trigo", "Açucar", "Café coado", "Chocolate em pó", "Ovos"]
            },
            {
                titulo: "Coxinha de Brigadeiro",
                imagem: "coxinha_de_brigadeiro_com_morango_dentro.png",
                preparo: "Junte o leite condensado, chocolate em pó e manteiga. " +
                "Aqueça no fogo baixo. Envolva os morangos e passe no granulado.",
                ingredientes: ["Leite condensado", "Chocolate em pó", "Manteiga", "Morango", "Chocolate granulado"]
            }
        ]


        function getListaIngredientes(receita) {
            var string_lista_ingredientes = "<ul>";
            var vetor_lista_ingredientes = vetor_JASON[receita].ingredientes; 
            
            // Transforma cada elemento da lista de ingredientes em um elemento <li>
            // usando a função 'map' e concatena tudo com a função 'reduce'
            string_lista_ingredientes += vetor_lista_ingredientes
                .map(valor => `<li>${valor}</li>`) // Mapeia cada valor para <li>
                .reduce((acc, item) => acc + item, ""); // Concatena os itens em uma única string
            
            string_lista_ingredientes += "</ul>"
            
            return string_lista_ingredientes;
        }

        // getListaIngredientes(0);

    
        function getCard(receita) {
            const objeto_JASON = vetor_JASON[receita];
    
            var texto_de_retorno = "<div class='card m-2' style='width:250px'>";
            texto_de_retorno += `<img class='card-img-top' src='${objeto_JASON.imagem}'>`;
            texto_de_retorno += "<div class='card-body'>";
            texto_de_retorno += `<h5 class='card-title'>${objeto_JASON.titulo}</h5>`;
            texto_de_retorno += `<div class='card-text'>${getListaIngredientes(receita)}<hr>`;
            texto_de_retorno += `${objeto_JASON.preparo}</div></div></div>`;

           return texto_de_retorno;
        }


        function preencheCatalogo() {

            const div_pnlCatalogo = document.getElementById("pnlCatalogo");
            const tamanho_vetor_JASON = vetor_JASON.length;
            var string_cards = getCard(0);
            
            for (let i = 1; i < tamanho_vetor_JASON; i++) {
                string_cards += getCard(i);
            }

            div_pnlCatalogo.innerHTML = string_cards;
        }

        preencheCatalogo();
    </script>
</body>
</html>